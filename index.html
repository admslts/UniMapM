<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login through Unique Link</title>
</head>
<body>

<h1>Login through Unique Link</h1>

<!-- Display login status -->
<p id="login-status">Click the link in your email to log in.</p>

<script>
    // Function to extract token from URL parameters
    function getTokenFromURL() {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get('token');
    }

    // Function to perform login based on the token
    function performLogin() {
        const token = getTokenFromURL();

        if (token) {
            // Validate the token (you should perform server-side validation)
            // For demonstration purposes, assume any non-empty token is valid
            loginSuccess();
        } else {
            loginFailure();
        }
    }

    // Function to handle successful login
    function loginSuccess() {
        document.getElementById("login-status").textContent = "Login Successful!";
        // Redirect to the authenticated user's page or perform other actions
    }

    // Function to handle login failure
    function loginFailure() {
        document.getElementById("login-status").textContent = "Invalid or missing token. Login Failed.";
    }

    // Call the login function on page load
    performLogin();
</script>

</body>
</html>
