<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Login</title>
    <script src="https://rawgit.com/sitepoint-editors/jsqrcode/master/src/qr_packed.js"></script>
</head>
<body>

<h1>QR Code Login</h1>

<!-- Display video feed for scanning QR code -->
<video id="qr-video" width="300" height="300"></video>

<!-- Display login status -->
<p id="login-status">Scan QR Code to Log In</p>

<script>
    // Function to handle successful login
    function loginSuccess() {
        document.getElementById("login-status").textContent = "Login Successful!";
    }

    // Initialize QR code scanner
    function initQRCodeScanner() {
        const video = document.getElementById("qr-video");

        html5Qrcode.scan(
            "qr-video",
            { fps: 10 },
            (data) => {
                // Handle QR code data (e.g., authenticate the user)
                console.log("QR Code data:", data);
                
                // Assume a successful login for demonstration purposes
                loginSuccess();
                
                // Stop scanning after successful login (you can adjust this logic)
                html5Qrcode.stop();
            },
            (error) => {
                // Handle errors
                console.error("QR Code scanning error:", error);
            },
            (videoError) => {
                // Handle video streaming errors
                console.error("Video streaming error:", videoError);
            }
        );
    }

    // Call the QR code scanner initialization function
    initQRCodeScanner();
</script>

</body>
</html>
